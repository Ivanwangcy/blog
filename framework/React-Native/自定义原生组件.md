# 自定义原生组件

## 自定义 ios 原生组件

### 创建头文件

```objective-c
// CustomViewManager.h
#import <React/RCTBridgeModule.h>
#import <React/RCTViewManager.h>

@interface CustomViewManager : RCTViewManager
@end

```

### 创建实现类

```objective-c

// CustomViewManager.m
#import "CustomViewManager.h"
@implementation CustomViewManager

 RCT_EXPORT_MODULE(CustomView)

 - (UIView *)view
 {
    UIView *view = [[UIView alloc] init];

    view.backgroundColor = [UIColor colorWithRed:255 green:87 blue:87 alpha:1];
    view.layer.cornerRadius = 10.0f;
    view.layer.masksToBounds = YES;
    
   return view;
 }

@end


```
## 自定义 Android 原生组件

```java
// CustomView.java
public class CustomView extends View {
 ...
}

// CustomViewManager.java
public class CustomViewManager extends SimpleViewManager<CustomView> {
 ...
}

//CustomViewPackage.java
public class LinearGradientPackage implements ReactPackage {
 ...
}


// update MainApplication.java
    
    @Override
    protected List<ReactPackage> getPackages() {
      return Arrays.<ReactPackage>asList(
          new MainReactPackage(),
          new CustomViewPackage() // 新增自定义组件包
      );
    }
```

## javascript 导入原生模块

```js
const CustomView = requireNativeComponent('CustomView', null);

<CustomView />
```
