# Taro 3 升级指南

- jsx 不支持 hidden 属性；
- this.$router.params 使用 Taro.getCurrentInstance().router.params 替代；
- let app = Taro.getApp() 使用 let app = Taro.Current 替代；

## 子包公共文件提取

```js
const { stats, config } = await compile('subpackages', {
      webpackChain (chain) {
        const config = chain.optimization.get('splitChunks')
        chain.optimization
          .splitChunks({
            ...config,
            cacheGroups: {
              ...config.cacheGroups,
              subutils: {
                name: 'sub-utils',
                minChunks: 2,
                test: module => /[\\/]packageA[\\/]/.test(module.resource),
                priority: 200
              }
            }
          })
      },
      addChunkPages (pages) {
        pages.set('packageA/detail/index', ['sub-utils'])
        pages.set('packageA/my/index', ['sub-utils'])
      }
    })
```